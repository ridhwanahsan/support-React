{"ast":null,"code":"import React,{useState}from'react';import{FiSend,FiPaperclip,FiPhone,FiMessageCircle}from'react-icons/fi';import{Button}from'../../../components/common/Button';import{Badge}from'../../../components/common/Badge';import{Textarea}from'../../../components/common/Input';import styles from'../styles/ChatInterface.module.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const ChatInterface=_ref=>{let{ticket}=_ref;const[message,setMessage]=useState('');// Mock current user\nconst currentUser={id:3,name:\"Jane Doe\"};// Example customer ID\n// Merge ticket messages with some local state for demo\nconst[messages,setMessages]=useState(ticket.messages||[]);const handleSend=e=>{e.preventDefault();if(!message.trim())return;const newMessage={id:Date.now(),sender:currentUser,text:message,time:new Date().toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'})};setMessages([...messages,newMessage]);setMessage('');};return/*#__PURE__*/_jsxs(\"div\",{className:styles.container,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.header,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.headerTop,children:[/*#__PURE__*/_jsx(\"h2\",{className:styles.subject,children:ticket.subject}),/*#__PURE__*/_jsx(Badge,{status:ticket.status})]}),/*#__PURE__*/_jsxs(\"p\",{className:styles.meta,children:[\"Ticket \",ticket.id,\" \\u2022 Assigned to: \",ticket.agent?ticket.agent.name:'Unassigned']})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.headerActions,children:[/*#__PURE__*/_jsxs(Button,{variant:\"secondary\",size:\"sm\",children:[/*#__PURE__*/_jsx(FiPhone,{style:{marginRight:5}}),\" Call Us\"]}),/*#__PURE__*/_jsxs(Button,{variant:\"secondary\",size:\"sm\",children:[/*#__PURE__*/_jsx(FiMessageCircle,{style:{marginRight:5}}),\" SMS Us\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.messagesArea,children:[messages.length===0&&/*#__PURE__*/_jsx(\"div\",{className:styles.emptyMessages,children:\"No messages yet. Start the conversation!\"}),messages.map(msg=>{const isMe=msg.sender.id===currentUser.id;return/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(styles.messageRow,\" \").concat(isMe?styles.rowRight:styles.rowLeft),children:[!isMe&&/*#__PURE__*/_jsx(\"div\",{className:styles.avatar,children:msg.sender.name.charAt(0)}),/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(styles.bubble,\" \").concat(isMe?styles.bubbleRight:styles.bubbleLeft),children:[/*#__PURE__*/_jsx(\"div\",{className:styles.senderName,children:isMe?'You':msg.sender.name}),/*#__PURE__*/_jsx(\"div\",{className:styles.text,children:msg.text}),/*#__PURE__*/_jsx(\"div\",{className:styles.time,children:msg.time})]})]},msg.id);})]}),/*#__PURE__*/_jsx(\"div\",{className:styles.inputArea,children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSend,className:styles.inputForm,children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:styles.attachBtn,children:/*#__PURE__*/_jsx(FiPaperclip,{})}),/*#__PURE__*/_jsx(\"div\",{className:styles.inputWrapper,children:/*#__PURE__*/_jsx(Textarea,{placeholder:\"Type your reply...\",value:message,onChange:e=>setMessage(e.target.value),style:{marginBottom:0,minHeight:'40px'},rows:1})}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"primary\",children:/*#__PURE__*/_jsx(FiSend,{})})]})})]});};","map":{"version":3,"names":["React","useState","FiSend","FiPaperclip","FiPhone","FiMessageCircle","Button","Badge","Textarea","styles","jsx","_jsx","jsxs","_jsxs","ChatInterface","_ref","ticket","message","setMessage","currentUser","id","name","messages","setMessages","handleSend","e","preventDefault","trim","newMessage","Date","now","sender","text","time","toLocaleTimeString","hour","minute","className","container","children","header","headerTop","subject","status","meta","agent","headerActions","variant","size","style","marginRight","messagesArea","length","emptyMessages","map","msg","isMe","concat","messageRow","rowRight","rowLeft","avatar","charAt","bubble","bubbleRight","bubbleLeft","senderName","inputArea","onSubmit","inputForm","type","attachBtn","inputWrapper","placeholder","value","onChange","target","marginBottom","minHeight","rows"],"sources":["R:/package/support React/grt-ticket-template/src/apps/User/components/ChatInterface.jsx"],"sourcesContent":["\r\nimport React, { useState } from 'react';\r\nimport { FiSend, FiPaperclip, FiPhone, FiMessageCircle } from 'react-icons/fi';\r\nimport { Button } from '../../../components/common/Button';\r\nimport { Badge } from '../../../components/common/Badge';\r\nimport { Textarea } from '../../../components/common/Input';\r\nimport styles from '../styles/ChatInterface.module.css';\r\n\r\nexport const ChatInterface = ({ ticket }) => {\r\n    const [message, setMessage] = useState('');\r\n\r\n    // Mock current user\r\n    const currentUser = { id: 3, name: \"Jane Doe\" }; // Example customer ID\r\n\r\n    // Merge ticket messages with some local state for demo\r\n    const [messages, setMessages] = useState(ticket.messages || []);\r\n\r\n    const handleSend = (e) => {\r\n        e.preventDefault();\r\n        if (!message.trim()) return;\r\n\r\n        const newMessage = {\r\n            id: Date.now(),\r\n            sender: currentUser,\r\n            text: message,\r\n            time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\r\n        };\r\n\r\n        setMessages([...messages, newMessage]);\r\n        setMessage('');\r\n    };\r\n\r\n    return (\r\n        <div className={styles.container}>\r\n            {/* Header */}\r\n            <div className={styles.header}>\r\n                <div>\r\n                    <div className={styles.headerTop}>\r\n                        <h2 className={styles.subject}>{ticket.subject}</h2>\r\n                        <Badge status={ticket.status} />\r\n                    </div>\r\n                    <p className={styles.meta}>\r\n                        Ticket {ticket.id} â€¢ Assigned to: {ticket.agent ? ticket.agent.name : 'Unassigned'}\r\n                    </p>\r\n                </div>\r\n                <div className={styles.headerActions}>\r\n                    <Button variant=\"secondary\" size=\"sm\">\r\n                        <FiPhone style={{ marginRight: 5 }} /> Call Us\r\n                    </Button>\r\n                    <Button variant=\"secondary\" size=\"sm\">\r\n                        <FiMessageCircle style={{ marginRight: 5 }} /> SMS Us\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Messages Area */}\r\n            <div className={styles.messagesArea}>\r\n                {messages.length === 0 && (\r\n                    <div className={styles.emptyMessages}>No messages yet. Start the conversation!</div>\r\n                )}\r\n                {messages.map(msg => {\r\n                    const isMe = msg.sender.id === currentUser.id;\r\n                    return (\r\n                        <div key={msg.id} className={`${styles.messageRow} ${isMe ? styles.rowRight : styles.rowLeft}`}>\r\n                            {!isMe && (\r\n                                <div className={styles.avatar}>\r\n                                    {msg.sender.name.charAt(0)}\r\n                                </div>\r\n                            )}\r\n                            <div className={`${styles.bubble} ${isMe ? styles.bubbleRight : styles.bubbleLeft}`}>\r\n                                <div className={styles.senderName}>{isMe ? 'You' : msg.sender.name}</div>\r\n                                <div className={styles.text}>{msg.text}</div>\r\n                                <div className={styles.time}>{msg.time}</div>\r\n                            </div>\r\n                        </div>\r\n                    );\r\n                })}\r\n            </div>\r\n\r\n            {/* Input Area */}\r\n            <div className={styles.inputArea}>\r\n                <form onSubmit={handleSend} className={styles.inputForm}>\r\n                    <button type=\"button\" className={styles.attachBtn}>\r\n                        <FiPaperclip />\r\n                    </button>\r\n                    <div className={styles.inputWrapper}>\r\n                        <Textarea\r\n                            placeholder=\"Type your reply...\"\r\n                            value={message}\r\n                            onChange={(e) => setMessage(e.target.value)}\r\n                            style={{ marginBottom: 0, minHeight: '40px' }}\r\n                            rows={1}\r\n                        />\r\n                    </div>\r\n                    <Button type=\"submit\" variant=\"primary\">\r\n                        <FiSend />\r\n                    </Button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}